<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>TRIP TRICKLER - The App</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
    
    <link rel="stylesheet" href="style.css">

</head>
<body class="overscroll-none">

    <div id="notification" class="notification"></div>

    <main id="page-auth" class="page active">
        <div class="min-h-screen flex items-center justify-center auth-bg p-4">
            <div class="w-full max-w-md bg-white/90 backdrop-blur-sm rounded-xl shadow-2xl p-8">
                <div class="flex items-center justify-center space-x-2 mb-6">
                    <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-indigo-600"><path d="M12 22s-8-4.5-8-11.8A8 8 0 0 1 12 2a8 8 0 0 1 8 8.2c0 7.3-8 11.8-8 11.8z"/><circle cx="12" cy="10" r="3"/></svg>
                    <h1 class="text-2xl font-bold text-gray-800">TRIP TRICKLER</h1>
                </div>
                
                <div id="login-form-container">
                    <h2 class="text-center text-3xl font-bold text-gray-800 mb-2">Welcome Back!</h2>
                    <p class="text-center text-gray-600 mb-8">Login to plan your next adventure.</p>
                    <form id="login-form">
                        <div class="mb-4">
                            <label for="email" class="block text-sm font-medium text-gray-700 mb-1">Email Address</label>
                            <input type="email" id="email" class="w-full p-3 border border-gray-300 rounded-lg" value="alex@example.com" required>
                        </div>
                        <div class="mb-6">
                            <label for="password" class="block text-sm font-medium text-gray-700 mb-1">Password</label>
                            <input type="password" id="password" class="w-full p-3 border border-gray-300 rounded-lg" value="password" required>
                        </div>
                        <button type="submit" class="w-full bg-indigo-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-indigo-700 transition-all text-lg">
                            Login
                        </button>
                        <p class="text-center text-sm text-gray-600 mt-6">
                            Don't have an account? <a href="#" id="show-signup-link" class="font-semibold text-indigo-600 hover:underline">Sign Up</a>
                        </p>
                    </form>
                </div>

                <div id="signup-form-container" class="hidden">
                    <h2 class="text-center text-3xl font-bold text-gray-800 mb-2">Create Account</h2>
                    <p class="text-center text-gray-600 mb-8">Join our community of travelers.</p>
                    <form id="signup-form">
                        <div class="mb-4">
                            <label for="signup-name" class="block text-sm font-medium text-gray-700 mb-1">Full Name</label>
                            <input type="text" id="signup-name" class="w-full p-3 border border-gray-300 rounded-lg" placeholder="e.g., Alex Doe" required>
                        </div>
                        <div class="mb-4">
                            <label for="signup-email" class="block text-sm font-medium text-gray-700 mb-1">Email Address</label>
                            <input type="email" id="signup-email" class="w-full p-3 border border-gray-300 rounded-lg" placeholder="alex@example.com" required>
                        </div>
                        <div class="mb-4">
                            <label for="signup-password" class="block text-sm font-medium text-gray-700 mb-1">Password</label>
                            <input type="password" id="signup-password" class="w-full p-3 border border-gray-300 rounded-lg" required>
                        </div>
                        <button type="submit" class="w-full bg-indigo-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-indigo-700 transition-all text-lg">
                            Create Account
                        </button>
                        <p class="text-center text-sm text-gray-600 mt-6">
                            Already have an account? <a href="#" id="show-login-link" class="font-semibold text-indigo-600 hover:underline">Login</a>
                        </p>
                    </form>
                </div>
            </div>
        </div>
    </main>

    <div id="main-app-content" class="hidden">
        <div id="app-container" class="pb-20"> <main id="page-dashboard" class="page">
                <div class="p-6">
                    <div class="flex justify-between items-center mb-6">
                        <div>
                            <p class="text-gray-500">Welcome back,</p>
                            <h2 id="welcome-message" class="text-2xl font-bold text-gray-800">Alex!</h2>
                        </div>
                        <div class="flex items-center space-x-4">
                            <button id="dashboard-messages-btn" class="text-gray-500 hover:text-indigo-600 text-xl"><i class="fas fa-comments"></i></button>
                            <div class="w-12 h-12 bg-indigo-100 rounded-full flex items-center justify-center text-indigo-600 font-bold text-xl" id="dashboard-avatar">A</div>
                        </div>
                    </div>

                    <div class="mb-8">
                        <h3 class="text-xl font-bold text-gray-800 mb-4">My Upcoming Trips</h3>
                        <div id="my-trips-grid" class="flex overflow-x-auto space-x-4 horizontal-scroll pb-4">
                            <div class="flex-shrink-0 w-64 border-2 border-dashed border-gray-300 rounded-lg flex flex-col items-center justify-center text-center p-6 bg-gray-50 hover:bg-gray-100 transition-colors duration-300 cursor-pointer" onclick="document.getElementById('nav-planner').click()">
                                <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="text-gray-400 mb-4"><line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line></svg>
                                <h3 class="font-semibold text-gray-700">Plan a New Trip</h3>
                            </div>
                        </div>
                    </div>

                    <div class="mb-8">
                        <h3 class="text-xl font-bold text-gray-800 mb-4">Get Started</h3>
                        <div class="grid grid-cols-3 gap-4 text-center">
                            <div id="dashboard-plan-card" class="cursor-pointer bg-white p-4 rounded-xl shadow-md">
                                <div class="bg-indigo-100 rounded-lg p-3 inline-block mb-2"><i class="fas fa-magic-wand-sparkles text-indigo-600 text-xl"></i></div>
                                <p class="text-sm font-medium text-gray-700">Plan a Trip</p>
                            </div>
                            <div id="dashboard-buddy-card" class="cursor-pointer bg-white p-4 rounded-xl shadow-md">
                                <div class="bg-teal-100 rounded-lg p-3 inline-block mb-2"><i class="fas fa-users text-teal-600 text-xl"></i></div>
                                <p class="text-sm font-medium text-gray-700">Find a Buddy</p>
                            </div>
                            <div id="dashboard-explore-card" class="cursor-pointer bg-white p-4 rounded-xl shadow-md">
                                <div class="bg-amber-100 rounded-lg p-3 inline-block mb-2"><i class="fas fa-map-marked-alt text-amber-600 text-xl"></i></div>
                                <p class="text-sm font-medium text-gray-700">Explore</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="mb-8">
                        <h3 class="text-xl font-bold text-gray-800 mb-4">Join an Adventure</h3>
                        <div class="space-y-4">
                            <div class="bg-white p-4 rounded-xl shadow-md flex items-center space-x-4">
                                <img src="https://images.unsplash.com/photo-1542051841857-5f90071e7989?q=80&w=400&auto=format&fit=crop" class="w-20 h-20 rounded-lg object-cover">
                                <div>
                                    <h4 class="font-bold text-gray-800">Japan Discovery</h4>
                                    <p class="text-sm text-gray-500">Dec 1 - Dec 15</p>
                                    <div class="flex items-center text-sm text-teal-600 mt-1"><i class="fas fa-users mr-2"></i>2/4 spots filled</div>
                                </div>
                                <button class="ml-auto bg-teal-500 text-white font-semibold px-4 py-2 rounded-lg text-sm">Join</button>
                            </div>
                        </div>
                    </div>
                    
                    <div>
                        <h3 class="text-xl font-bold text-gray-800 mb-4">Recommended for You</h3>
                        <div class="grid grid-cols-2 gap-4">
                            <div class="relative rounded-lg overflow-hidden h-40">
                                <img src="https://images.unsplash.com/photo-1522093012147-92a83241c78e?q=80&w=400&auto=format&fit=crop" class="w-full h-full object-cover">
                                <div class="absolute inset-0 bg-black/40"></div>
                                <p class="absolute bottom-2 left-2 text-white font-bold">Rome</p>
                            </div>
                            <div class="relative rounded-lg overflow-hidden h-40">
                                <img src="https://images.unsplash.com/photo-1537996194471-e657df975ab4?q=80&w=400&auto=format&fit=crop" class="w-full h-full object-cover">
                                <div class="absolute inset-0 bg-black/40"></div>
                                <p class="absolute bottom-2 left-2 text-white font-bold">Bali</p>
                            </div>
                        </div>
                    </div>
                </div>
            </main>
            
            <main id="page-planner" class="page">
                <div class="p-6">
                    <h2 class="text-3xl font-bold text-gray-800 text-center mb-2">AI Itinerary Planner</h2>
                    <p class="text-center text-gray-600 max-w-2xl mx-auto mb-8">Tell us your plans and we'll do the rest.</p>
                    <div class="max-w-4xl mx-auto bg-white rounded-xl shadow-lg">
                        <form id="planner-form" class="p-6">
                            <div class="space-y-4">
                                <div><label for="destination" class="block text-sm font-medium text-gray-700 mb-1">Destination</label><input type="text" id="destination" class="w-full p-3 border border-gray-300 rounded-lg" placeholder="e.g., Kyoto, Japan" required></div>
                                <div><label for="duration" class="block text-sm font-medium text-gray-700 mb-1">Duration (days)</label><input type="number" id="duration" class="w-full p-3 border border-gray-300 rounded-lg" placeholder="e.g., 5" required></div>
                            </div>
                            <div class="my-6"><label class="block text-sm font-medium text-gray-700 mb-1">Budget</label><div class="flex justify-between text-sm text-gray-500"><span>Budget</span><span>Moderate</span><span>Luxury</span></div><input type="range" id="budget" min="1" max="3" value="2" class="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"></div>
                            <div class="my-6"><label class="block text-sm font-medium text-gray-700 mb-2">Interests</label><div id="interests-container" class="flex flex-wrap gap-3"><button type="button" class="interest-btn px-4 py-2 bg-gray-200 text-gray-700 rounded-full text-sm" data-interest="History & Culture">History</button><button type="button" class="interest-btn px-4 py-2 bg-gray-200 text-gray-700 rounded-full text-sm" data-interest="Food & Drink">Food</button><button type="button" class="interest-btn px-4 py-2 bg-gray-200 text-gray-700 rounded-full text-sm" data-interest="Adventure & Outdoors">Outdoors</button><button type="button" class="interest-btn px-4 py-2 bg-gray-200 text-gray-700 rounded-full text-sm" data-interest="Relaxation">Relaxation</button><button type="button" class="interest-btn px-4 py-2 bg-gray-200 text-gray-700 rounded-full text-sm" data-interest="Nightlife">Nightlife</button></div></div>
                            <button type="submit" id="generate-itinerary-btn" class="w-full bg-indigo-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-indigo-700 transition-all text-lg">Generate My Itinerary</button>
                        </form>
                        <div id="planner-loading" class="hidden text-center p-8"><div class="spinner mx-auto mb-4"></div><p class="text-gray-600 font-medium">Crafting your perfect trip...</p></div>
                        <div id="planner-results" class="hidden">
                            <div id="itinerary-header" class="relative h-48 bg-gray-500 bg-cover bg-center rounded-t-xl">
                                <div class="absolute inset-0 bg-black/40"></div>
                            </div>
                            <div id="itinerary-content" class="p-6 itinerary-content"></div>
                            <div class="p-6 border-t flex justify-center gap-4">
                                <button id="save-itinerary-btn" class="bg-indigo-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-indigo-700">Save Itinerary</button>
                                <button id="regenerate-itinerary-btn" class="bg-gray-200 text-gray-800 font-bold py-3 px-6 rounded-lg hover:bg-gray-300">Start Over</button>
                            </div>
                        </div>
                    </div>
                </div>
            </main>
            
            <main id="page-buddies" class="page">
                <div class="p-6">
                    <h2 class="text-3xl font-bold text-gray-800 text-center mb-2">Find a Buddy</h2>
                    <p class="text-center text-gray-600 max-w-2xl mx-auto mb-8">Connect with other travelers.</p>
                    <div class="sticky top-0 bg-gray-50 py-4 z-10">
                        <div class="flex bg-white p-2 rounded-xl shadow-md gap-2">
                            <input type="text" id="buddy-dest" placeholder="Search by destination..." class="w-full p-2 bg-transparent focus:outline-none">
                            <select id="buddy-interest" class="p-2 border-l border-gray-200 bg-transparent focus:outline-none">
                                <option value="any">Any Interest</option><option value="foodie">Foodie</option><option value="art">Art Lover</option><option value="adventure">Adventure</option><option value="beach">Beach</option>
                            </select>
                        </div>
                    </div>
                    <div id="buddies-grid" class="mt-6 space-y-4">
                    </div>
                </div>
            </main>

            <main id="page-explore" class="page">
                <div class="p-6">
                    <h2 class="text-3xl font-bold text-gray-800 text-center mb-2">Explore Nearby</h2>
                    <p class="text-center text-gray-600 max-w-2xl mx-auto mb-8">Discover hidden gems around you.</p>
                    <button onclick="getLocation()" class="w-full bg-indigo-600 text-white px-8 py-3 rounded-xl font-semibold text-lg hover:bg-indigo-700 transition-colors mb-6">
                        <i class="fas fa-location-arrow mr-2"></i>Find Places Near Me
                    </button>
                    <div id="map" class="w-full mb-6"></div>
                    <div class="flex flex-nowrap overflow-x-auto gap-3 pb-4 mb-4">
                        <button class="category-filter active flex-shrink-0 px-4 py-2 rounded-full border" data-category="all"><i class="fas fa-star mr-2"></i>All</button>
                        <button class="category-filter flex-shrink-0 px-4 py-2 rounded-full border" data-category="cafe"><i class="fas fa-coffee mr-2"></i>Cafés</button>
                        <button class="category-filter flex-shrink-0 px-4 py-2 rounded-full border" data-category="historical"><i class="fas fa-landmark mr-2"></i>Historical</button>
                        <button class="category-filter flex-shrink-0 px-4 py-2 rounded-full border" data-category="park"><i class="fas fa-tree mr-2"></i>Parks</button>
                        <button class="category-filter flex-shrink-0 px-4 py-2 rounded-full border" data-category="nightlife"><i class="fas fa-moon mr-2"></i>Nightlife</button>
                    </div>
                    <div id="places-grid" class="space-y-4"></div>
                </div>
            </main>
            
            <main id="page-messages" class="page">
                <header class="p-4 bg-white border-b sticky top-0 z-20">
                    <h2 class="text-xl font-bold text-gray-800 text-center">Messages</h2>
                </header>
                <div id="chat-container" class="bg-white flex">
                    <div id="conversations-list" class="w-1/3 border-r border-gray-200 overflow-y-auto md:w-full"></div>
                    <div id="chat-window" class="w-2/3 flex-col hidden md:flex"></div>
                </div>
            </main>

            <main id="page-profile" class="page bg-gray-50">
                <div class="p-6">
                    <div class="flex justify-between items-center mb-6">
                        <h2 class="text-3xl font-bold text-gray-800">My Profile</h2>
                        <button id="logout-link" class="text-red-500 font-semibold">Logout</button>
                    </div>
                    <div class="bg-white p-6 rounded-2xl shadow-lg text-center">
                        <div class="relative w-24 h-24 mx-auto mb-4">
                        <img id="profile-picture" src="https://placehold.co/160x160/667eea/ffffff?text=A" alt="Alex Doe" class="w-24 h-24 rounded-full border-4 border-white shadow-md">
                        <label for="profile-pic-upload" class="absolute bottom-0 right-0 bg-indigo-600 w-8 h-8 rounded-full flex items-center justify-center text-white cursor-pointer"><i class="fas fa-camera"></i></label>
                        <input type="file" id="profile-pic-upload" class="hidden" accept="image/*">
                        </div>
                        <h2 id="profile-name" class="text-2xl font-bold text-gray-800">Alex Doe</h2>
                        <p class="text-gray-500 mb-4">Joined in 2025</p>
                        <p id="profile-bio-text" class="text-gray-600 leading-relaxed mb-4">Travel enthusiast and foodie...</p>
                        <div id="profile-travel-styles" class="flex flex-wrap gap-2 justify-center mb-6"></div>
                        <button id="edit-profile-btn" class="w-full bg-indigo-100 text-indigo-700 font-semibold px-5 py-3 rounded-lg hover:bg-indigo-200 transition-colors">Edit Profile</button>
                    </div>
                    
                    <div class="mt-8 bg-white rounded-2xl shadow-lg overflow-hidden">
                        <ul class="divide-y divide-gray-200">
                            <li><a href="#" id="about-us-link" class="flex items-center p-4 hover:bg-gray-50"><i class="fas fa-info-circle w-6 text-center text-gray-500 mr-4"></i><span>About Us</span><i class="fas fa-chevron-right ml-auto text-gray-400"></i></a></li>
                            <li><a href="#" id="contact-support-link" class="flex items-center p-4 hover:bg-gray-50"><i class="fas fa-envelope w-6 text-center text-gray-500 mr-4"></i><span>Contact & Support</span><i class="fas fa-chevron-right ml-auto text-gray-400"></i></a></li>
                            <li><a href="#" id="help-center-link" class="flex items-center p-4 hover:bg-gray-50"><i class="fas fa-question-circle w-6 text-center text-gray-500 mr-4"></i><span>Help Center</span><i class="fas fa-chevron-right ml-auto text-gray-400"></i></a></li>
                        </ul>
                    </div>

                    <div id="reviews-section" class="mt-8">
                        <h3 class="text-xl font-bold text-gray-800 mb-4">My Reviews</h3>
                        <div id="reviews-list" class="space-y-4">
                            </div>
                    </div>
                </div>
            </main>
        </div>

        <nav id="bottom-nav" class="fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 flex justify-around h-16 z-30">
            <a href="#" id="nav-dashboard" class="bottom-nav-item flex-1 flex flex-col items-center justify-center text-gray-500 hover:text-indigo-600">
                <i class="fas fa-home"></i><span class="text-xs mt-1">Home</span>
            </a>
            <a href="#" id="nav-explore" class="bottom-nav-item flex-1 flex flex-col items-center justify-center text-gray-500 hover:text-indigo-600">
                <i class="fas fa-map-marked-alt"></i><span class="text-xs mt-1">Explore</span>
            </a>
            <a href="#" id="nav-planner" class="bottom-nav-item flex-1 flex flex-col items-center justify-center text-gray-500 hover:text-indigo-600 -mt-4">
                <div class="w-16 h-16 bg-indigo-600 rounded-full text-white flex items-center justify-center shadow-lg"><i class="fas fa-plus text-2xl"></i></div>
            </a>
            <a href="#" id="nav-buddies" class="bottom-nav-item flex-1 flex flex-col items-center justify-center text-gray-500 hover:text-indigo-600">
                <i class="fas fa-users"></i><span class="text-xs mt-1">Buddies</span>
            </a>
            <a href="#" id="nav-profile" class="bottom-nav-item flex-1 flex flex-col items-center justify-center text-gray-500 hover:text-indigo-600">
                <i class="fas fa-user-circle"></i><span class="text-xs mt-1">Profile</span>
            </a>
        </nav>
    </div>
    
    <div id="request-modal" class="modal fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 hidden opacity-0 z-50">
        <div class="bg-white rounded-lg shadow-xl p-8 max-w-sm w-full text-center">
            <h3 class="text-2xl font-bold mb-4">Send Request?</h3>
            <p class="text-gray-600 mb-6">A connection request will be sent. They will be notified and can accept or decline.</p>
            <div class="flex justify-center gap-4">
                <button id="cancel-request-btn" class="px-6 py-2 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300">Cancel</button>
                <button id="confirm-request-btn" class="px-6 py-2 bg-teal-500 text-white rounded-lg hover:bg-teal-600">Confirm</button>
            </div>
        </div>
    </div>
    
    <div id="edit-profile-modal" class="modal fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 hidden opacity-0 z-50">
        <div class="bg-white rounded-lg shadow-xl p-8 max-w-lg w-full">
            <div class="flex justify-between items-center mb-6">
                <h3 class="text-2xl font-bold">Edit Profile</h3>
                <button id="close-profile-modal-btn" class="text-gray-400 hover:text-gray-600 text-3xl">&times;</button>
            </div>
            <form id="profile-edit-form">
                <div class="mb-4">
                    <label for="modal-profile-name" class="block text-sm font-medium text-gray-700 mb-1">Name</label>
                    <input type="text" id="modal-profile-name" class="w-full p-2 border border-gray-300 rounded-lg">
                </div>
                <div class="mb-4">
                    <label for="modal-profile-bio" class="block text-sm font-medium text-gray-700 mb-1">About Me</label>
                    <textarea id="modal-profile-bio" rows="4" class="w-full p-2 border border-gray-300 rounded-lg"></textarea>
                </div>
                <div class="mb-6">
                    <label class="block text-sm font-medium text-gray-700 mb-2">My Travel Style</label>
                    <div id="modal-travel-styles" class="flex flex-wrap gap-3">
                        </div>
                </div>
                <div class="flex justify-end gap-4">
                    <button type="button" id="cancel-profile-edit-btn" class="px-6 py-2 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300">Cancel</button>
                    <button type="submit" class="px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700">Save Changes</button>
                </div>
            </form>
        </div>
    </div>

    <div id="review-modal" class="modal fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 hidden opacity-0 z-50">
        <div class="bg-white rounded-lg shadow-xl p-8 max-w-md w-full">
            <h3 class="text-2xl font-bold mb-4 text-center">Review Your Trip</h3>
            <p class="text-center text-gray-600 mb-6">How was your trip to <span id="review-destination" class="font-semibold"></span>?</p>
            <form id="review-form">
                <div class="mb-4">
                    <label class="block text-sm font-medium text-gray-700 mb-2">Your Rating</label>
                    <div id="review-stars" class="flex justify-center text-3xl text-gray-300 cursor-pointer">
                        <i class="fas fa-star" data-rating="1"></i>
                        <i class="fas fa-star" data-rating="2"></i>
                        <i class="fas fa-star" data-rating="3"></i>
                        <i class="fas fa-star" data-rating="4"></i>
                        <i class="fas fa-star" data-rating="5"></i>
                    </div>
                    <input type="hidden" id="review-rating-value" required>
                </div>
                <div class="mb-6">
                    <label for="review-text" class="block text-sm font-medium text-gray-700 mb-1">Your Review</label>
                    <textarea id="review-text" rows="4" class="w-full p-2 border border-gray-300 rounded-lg" placeholder="Share your experience..." required></textarea>
                </div>
                <div class="flex justify-end gap-4">
                    <button type="button" id="cancel-review-btn" class="px-6 py-2 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300">Cancel</button>
                    <button type="submit" class="px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700">Submit Review</button>
                </div>
            </form>
        </div>
    </div>
    
    <div id="about-modal" class="modal fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 hidden opacity-0 z-50">
        <div class="bg-white rounded-lg shadow-xl p-8 max-w-lg w-full">
            <div class="flex justify-between items-center mb-4"><h3 class="text-2xl font-bold">About Trip Trickler</h3><button class="close-info-modal-btn text-gray-400 hover:text-gray-600 text-3xl">&times;</button></div>
            <p class="text-gray-600 mb-4">Trip Trickler was born from a simple idea: travel is better when it's simple, social, and smart. We connect travelers with companions and provide AI-generated itineraries to make every journey unforgettable.</p>
            <p class="text-gray-600">Our mission is to take the stress out of planning and help you discover the world's hidden gems with the right people by your side.</p>
        </div>
    </div>
    <div id="contact-modal" class="modal fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 hidden opacity-0 z-50">
        <div class="bg-white rounded-lg shadow-xl p-8 max-w-lg w-full">
            <div class="flex justify-between items-center mb-6"><h3 class="text-2xl font-bold">Contact & Support</h3><button class="close-info-modal-btn text-gray-400 hover:text-gray-600 text-3xl">&times;</button></div>
            <div class="space-y-4">
                <p><i class="fas fa-envelope mr-3 text-indigo-600"></i> support@triptrickler.com</p>
                <p><i class="fas fa-phone mr-3 text-indigo-600"></i> +1 (555) 123-4567</p>
                <div class="flex space-x-4"><i class="fab fa-twitter text-indigo-600 text-xl"></i><i class="fab fa-instagram text-indigo-600 text-xl"></i><i class="fab fa-facebook text-indigo-600 text-xl"></i></div>
            </div>
        </div>
    </div>
    <div id="help-modal" class="modal fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 hidden opacity-0 z-50">
        <div class="bg-white rounded-lg shadow-xl p-8 max-w-lg w-full">
            <div class="flex justify-between items-center mb-6"><h3 class="text-2xl font-bold">Help Center</h3><button class="close-info-modal-btn text-gray-400 hover:text-gray-600 text-3xl">&times;</button></div>
            <div class="space-y-4">
                <div><h4 class="font-semibold">How does the AI Planner work?</h4><p class="text-gray-600 text-sm">Just enter your destination, duration, and interests, and our AI will create a custom day-by-day plan for you!</p></div>
                <div><h4 class="font-semibold">Is finding a travel buddy safe?</h4><p class="text-gray-600 text-sm">We encourage users to chat and get to know each other before traveling. Always prioritize safety and meet in public places.</p></div>
            </div>
        </div>
    </div>
    
    <div id="view-trip-modal" class="modal fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 hidden opacity-0 z-50">
        <div class="bg-white rounded-lg shadow-xl max-w-lg w-full h-[90vh] flex flex-col">
            <div id="view-trip-header" class="relative h-48 bg-gray-500 bg-cover bg-center flex-shrink-0 rounded-t-lg">
                <div class="absolute inset-0 bg-black/40"></div>
                <h3 id="view-trip-title" class="absolute bottom-4 left-4 text-white text-3xl font-bold"></h3>
                <button id="close-view-trip-btn" class="absolute top-4 right-4 text-white text-3xl">&times;</button>
            </div>
            <div class="p-6 overflow-y-auto">
                <div class="itinerary-content" id="view-trip-itinerary"></div>
                <div class="mt-8">
                    <h3 class="text-xl font-bold text-gray-800 mb-4">Budget Tracker</h3>
                    <div class="bg-gray-100 p-4 rounded-lg">
                        <div class="flex justify-between font-semibold mb-2">
                            <span>Spent: <span id="budget-spent">₹0</span></span>
                            <span>Budget: <span id="budget-total">₹5000</span></span>
                        </div>
                        <div class="w-full bg-gray-300 rounded-full h-2.5">
                            <div id="budget-progress" class="bg-green-500 h-2.5 rounded-full" style="width: 0%"></div>
                        </div>
                        <form id="expense-form" class="mt-4 flex gap-2">
                            <input type="text" id="expense-desc" placeholder="Expense description" class="w-2/3 p-2 border rounded-lg" required>
                            <input type="number" id="expense-amount" placeholder="Amount" class="w-1/3 p-2 border rounded-lg" required>
                            <button type="submit" class="bg-indigo-500 text-white px-3 rounded-lg"><i class="fas fa-plus"></i></button>
                        </form>
                        <ul id="expense-list" class="mt-4 space-y-2"></ul>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
    <script src="script.js"></script>
</body>
</html>